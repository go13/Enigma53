{% extends "base.html" %}

{% block content %} 
<script type="text/javascript" src="/static/steal/steal.js?quizpage/quizeditpage.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

<style>
	#question-map img {
	  max-width: none;
	}
	
	#question-map img { 
	  max-width: none;
	}
	
	#question-map label { 
	  width: auto; display : inline; 
	}
	
	#question-map{
	   position: absolute;
	   top: 40px;
	   left:0;
	   right:0;
	   bottom:0px;
	}
	
	#content-on-map{
	   position: absolute;
	   top: 40px;
	   right:0; 
	   bottom:0px;
	   padding: 25px;
	   width: 60%;  
	   background-color: #ffffff; 
	   opacity: 0.9; 
	   filter: alpha(opacity=90);
	}
	
	.axis path,
	.axis line {
	  fill: none;
	  stroke: #000;
	  shape-rendering: crispEdges;
	}
	
	.bar-rect{
	  fill: steelblue;
	  cursor: pointer;
	}
	
	.bar-text{
	  cursor: pointer;
	}
	
	.x.axis path {
	  display: none;
	}
</style>

<div id="question-map"></div> 

<div id="content-on-map" title="{{ quiz.id }}">
	<div id="legend">
	  <legend id="quiz-title-legend">Quiz - {{ quiz.title }}</legend>
	</div>
<div class="tabbable"> 
	<div class="tabbable" style="margin-right:140px">
	  <ul class="nav nav-pills">
		  <!-- <li><a href="#tab1" data-toggle="tab">Info</a></li> -->
		  <li><a href="#tab4" data-toggle="tab">Results</a></li>
		  <li class="active"><a href="#tab2" data-toggle="tab">Edit</a></li>		  
		  <li><a href="#tab3" data-toggle="tab">Settings</a></li>
		  <li class="pull-right"><a style="background-color: rgb(224, 28, 28); color:#fff;" href="/quiz/{{quiz.id}}/">Start Quiz</a></li>
	  </ul>
	</div>
  <div class="tab-content">
    <div class="tab-pane active" id="tab4">
      <div id="results-chart"></div>
    </div>
    <div class="tab-pane" id="tab2">
      <div id="quiz-navigator" name="quiz{{quiz.id}}" class="tabbable tabs-right" >      
		<ul id="tabs" class="nav nav-tabs">
		    {%for item in quiz.questions %}
		    <li id="tab-question{{item.id}}" class="question-tab tab-question-edit {% if loop.first %}active{% endif %}">
		        <a href="#tab-question-page{{item.id}}" data-toggle="tab">Question {{item.id}}</a>
		    </li>
		    {% endfor %}
		</ul>	
		<div id="tabs-container" class="tab-content">        	
		    {%for item in quiz.questions %}
		    <div id="tab-question-page{{item.id}}" class="tab-pane {% if loop.first %}active{% endif %}" style="margin-right:20px">
		        <div class='question-edit' name='question{{item.id}}'></div>
		    </div>
		    {% endfor %}
		</div>	
	  </div>
    </div>
    <div class="tab-pane" id="tab3">
		<label style="float:left; margin-right:15px">Title</label>
		<input id="quiz-title-input" type="text" value="{{ quiz.title }}" class="input-xlarge" >
		<p style="margin-left:40px">Quiz title can contain any letters or numbers</p>
		<button id="settings-save-btn" class="btn btn-success">Save</button>
    </div>
  </div>
</div>	
</div>

<script type="text/javascript">
//loadQuestionMap();
</script>

{% endblock content %}
